{"ast":null,"code":"import _objectSpread from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from\"react\";import HeaderWithLogout from'../../pages/Header/HeaderWithLogout';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import EmployeesEditableRow from\"../../components/EmployeesEditableRow/EmployeesEditableRow\";import EmployeesReadOnlyRow from\"../../components/molecules/EmployeesReadOnlyRow/EmployeesReadOnlyRow\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeManagementPage=function EmployeeManagementPage(_ref){var api=_ref.api;var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setemployees=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),check=_useState4[0],setcheck=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),Id=_useState6[0],setId=_useState6[1];console.log(\"employees\",employees);useEffect(function(){setcheck(JSON.parse(window.localStorage.getItem('logoutbtn')));},[]);useEffect(function(){if(check==null){navigate('/');}},[check]);useEffect(function(){api.get('/employees/getusers').then(function(res){setemployees(res.data);});},[]);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),EditId=_useState8[0],setEditId=_useState8[1];var _useState9=useState({username:\"\",password:\"\"}),_useState10=_slicedToArray(_useState9,2),editFormData=_useState10[0],setEditFormData=_useState10[1];var handleEditFormSubmit=function handleEditFormSubmit(event){event.preventDefault();var edited={id:EditId,username:editFormData.username,password:editFormData.password};var newData=_toConsumableArray(employees);var index=employees.findIndex(function(data){return data.id===EditId;});newData[index]=edited;setemployees(newData);setEditId(null);};var handleEditClick=function handleEditClick(event,data){event.preventDefault();setEditId(data.id);var formValues={username:data.username,password:data.password};setEditFormData(formValues);};var handleEditFormChange=function handleEditFormChange(event){event.preventDefault();var fieldName=event.target.getAttribute(\"name\");var fieldValue=event.target.value;var newFormData=_objectSpread({},editFormData);newFormData[fieldName]=fieldValue;setEditFormData(newFormData);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(HeaderWithLogout,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reportcontainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageheading\",children:\"Employee Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"displayContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"backarrow\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){navigate(\"/main\");},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})})})]})]});};export default EmployeeManagementPage;","map":{"version":3,"names":["React","useState","useEffect","Fragment","HeaderWithLogout","ArrowBackIcon","EmployeesEditableRow","EmployeesReadOnlyRow","useNavigate","EmployeeManagementPage","api","navigate","employees","setemployees","check","setcheck","Id","setId","console","log","JSON","parse","window","localStorage","getItem","get","then","res","data","EditId","setEditId","username","password","editFormData","setEditFormData","handleEditFormSubmit","event","preventDefault","edited","id","newData","index","findIndex","handleEditClick","formValues","handleEditFormChange","fieldName","target","getAttribute","fieldValue","value","newFormData"],"sources":["/Users/rashmishrees/Desktop/sdd/src/pages/EmployeeManagementPage/EmployeeManagementPage.js"],"sourcesContent":["import React, {useState, useEffect, Fragment} from \"react\";\nimport HeaderWithLogout from '../../pages/Header/HeaderWithLogout';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport EmployeesEditableRow from \"../../components/EmployeesEditableRow/EmployeesEditableRow\";\nimport EmployeesReadOnlyRow from \"../../components/molecules/EmployeesReadOnlyRow/EmployeesReadOnlyRow\";\nimport {useNavigate} from 'react-router-dom';\n\nconst EmployeeManagementPage = ({api}) => {\n    let navigate = useNavigate();\n    const [employees, setemployees] = useState({});\n    const [check, setcheck] = useState(false);\n    const [Id, setId] = useState(null);\n    console.log(\"employees\",employees);\n    useEffect(() => {\n      setcheck(JSON.parse(window.localStorage.getItem('logoutbtn')));\n    }, []);\n    useEffect(()=>{\n      if(check == null){\n        navigate('/');\n      }\n    },[check])\n    useEffect(()=>{\n        api.get('/employees/getusers')\n        .then((res) => {\n            setemployees(res.data);\n        })\n    },[])\n    const [EditId,setEditId] = useState(null);\n    const [editFormData, setEditFormData] = useState({\n        username: \"\",\n        password: \"\"\n      });\n    const handleEditFormSubmit = (event) => {\n        event.preventDefault();\n    \n        const edited = {\n          id: EditId,\n          username: editFormData.username,\n          password: editFormData.password\n        };\n    \n        const newData = [...employees];\n    \n        const index = employees.findIndex((data) => data.id === EditId);\n    \n        newData[index] = edited;\n    \n        setemployees(newData);\n        setEditId(null);\n      };\n      const handleEditClick = (event, data) => {\n        event.preventDefault();\n        setEditId(data.id);\n    \n        const formValues = {\n          username: data.username,\n          password: data.password\n        };\n    \n        setEditFormData(formValues);\n      };\n      const handleEditFormChange = (event) => {\n        event.preventDefault();\n    \n        const fieldName = event.target.getAttribute(\"name\");\n        const fieldValue = event.target.value;\n    \n        const newFormData = { ...editFormData };\n        newFormData[fieldName] = fieldValue;\n    \n        setEditFormData(newFormData);\n      };\n    return(\n        <div>\n        <div>\n          <HeaderWithLogout />\n        </div>\n        <div className=\"reportcontainer\">\n          <div className=\"pageheading\">\n            Employee Management\n          </div>\n          <div className=\"displayContainer\">\n                    <div className=\"backarrow\">\n                        <p\n                            onClick={() => {\n                                navigate(\"/main\");\n                            }}\n                        ><ArrowBackIcon /></p>\n                    </div>\n                    {/* <form onSubmit={handleEditFormSubmit}>\n                    <div className=\"table-responsive\">\n                        {\n                            employees.length != 0 &&\n                                <table className=\"table table-striped table-bordered\">\n                                    <thead className=\"theadalter\">\n                                        <tr>\n                                            <th>User Name</th>\n                                            <th>Password</th>\n                                            <th>Action</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            employees.map((data)=>(\n                                                <Fragment>\n                                                {Id === data.id ? (\n                                                <EmployeesEditableRow\n                                                    rowdata={data}\n                                                    handleEditFormChange={handleEditFormChange}\n                                                />\n                                                ) : (\n                                                <EmployeesReadOnlyRow\n                                                    handleEditClick={handleEditClick}\n                                                    rowdata={data}\n                                                />\n                                                )}\n                                            </Fragment>\n                                            ))\n                                        }\n                                    </tbody>\n                                </table>\n                        }\n                    </div>\n                    </form>\n                    {\n                        employees.length === 0 &&\n                        <p> no data found! </p>\n                    } */}\n                </div>\n        </div>\n      </div>\n    );\n}\nexport default EmployeeManagementPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}