{"ast":null,"code":"import _defineProperty from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/from git/sdd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/from git/sdd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/from git/sdd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from'react-router-dom';import Header from\"../Header/Header\";import{decode as base64_decode,encode as base64_encode}from'base-64';import'../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(_ref){var api=_ref.api;var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),logindata=_useState2[0],setlogindata=_useState2[1];var _useState3=useState({username:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),logindataalter=_useState4[0],setlogindataalter=_useState4[1];useEffect(function(){if(logindata){setlogindataalter(_objectSpread(_objectSpread({},logindataalter),{},{\"username\":base64_encode(logindata.username),\"password\":base64_encode(logindata.password)}));}},[logindata]);var onChangeEvent=function onChangeEvent(event){setlogindata(_objectSpread(_objectSpread({},logindata),{},_defineProperty({},event.target.name,event.target.value)));};var onSubmitLogin=function onSubmitLogin(event){event.preventDefault();api.post('/users/login',{params:{logindataalter:logindataalter}}).then(function(res){if(res.data.length>0){window.localStorage.setItem('logoutbtn',\"true\");window.localStorage.setItem('adminloggedin',res.data);navigate('/main');}else{alert(res.data.message);}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginPageContainer\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitLogin,className:\"inputandsubmitdesign\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputstyle\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"USER NAME:-\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:onChangeEvent,autoComplete:\"off\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"inputstyle\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"PASSWORD:-\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:onChangeEvent,autoComplete:\"off\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"btnstyle BtnContainerstyle\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"btn\",children:\"Submit\"})})]})})]});};export default LoginPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Header","decode","base64_decode","encode","base64_encode","LoginPage","api","navigate","logindata","setlogindata","username","password","logindataalter","setlogindataalter","onChangeEvent","event","target","name","value","onSubmitLogin","preventDefault","post","params","then","res","data","length","window","localStorage","setItem","alert","message"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/from git/sdd/src/pages/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport Header from \"../Header/Header\";\nimport {decode as base64_decode, encode as base64_encode} from 'base-64';\nimport '../../style/style.css';\n\nconst LoginPage = ({ \n  api\n }) => {\n  let navigate = useNavigate();\n  const [logindata, setlogindata] = useState();\n  const [logindataalter, setlogindataalter] = useState({\n    username:\"\",\n    password:\"\"\n  });\n  useEffect(()=>{\n    if(logindata){\n      setlogindataalter({...logindataalter, \"username\":base64_encode(logindata.username), \"password\":base64_encode(logindata.password)})\n    }\n  },[logindata])\n  const onChangeEvent = (event) => {\n    setlogindata({ ...logindata, [event.target.name]: event.target.value });\n  }\n  const onSubmitLogin = (event) => {\n    event.preventDefault();\n    api.post('/users/login', {\n      params: {\n        logindataalter\n      }\n    }\n    )\n      .then((res) => {\n        if (res.data.length > 0) {\n          window.localStorage.setItem('logoutbtn', \"true\");\n          window.localStorage.setItem('adminloggedin', res.data);\n          navigate('/main');\n        }\n        else{\n          alert(res.data.message);\n        }\n      })\n  }\n  return (\n    <div>\n      <div>\n        <Header\n        />\n      </div>\n      <div className=\"loginPageContainer\">\n      <form onSubmit={onSubmitLogin} className=\"inputandsubmitdesign\">\n      <div className=\"inputstyle\">\n        <p>USER NAME:-<input\n          type=\"text\"\n          name=\"username\"\n          onChange={onChangeEvent}\n          autoComplete=\"off\"\n        /></p>\n        </div>\n        <div className=\"inputstyle\">\n        <p>PASSWORD:-<input\n          type=\"password\"\n          name=\"password\"\n          onChange={onChangeEvent}\n          autoComplete=\"off\"\n        />\n        </p>\n        </div>\n        <div className=\"btnstyle BtnContainerstyle\">\n          <button type=\"submit\" id=\"btn\">Submit</button>\n        </div>\n      </form>\n      </div>\n    </div>\n  );\n}\nexport default LoginPage;"],"mappings":"gcAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,OAAQC,MAAM,GAAIC,cAAlB,CAAiCC,MAAM,GAAIC,cAA3C,KAA+D,SAA/D,CACA,MAAO,uBAAP,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAEX,IADLC,IACK,MADLA,GACK,CACL,GAAIC,SAAQ,CAAGR,WAAW,EAA1B,CACA,cAAkCD,QAAQ,EAA1C,wCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAA4CX,QAAQ,CAAC,CACnDY,QAAQ,CAAC,EAD0C,CAEnDC,QAAQ,CAAC,EAF0C,CAAD,CAApD,yCAAOC,cAAP,eAAuBC,iBAAvB,eAIAhB,SAAS,CAAC,UAAI,CACZ,GAAGW,SAAH,CAAa,CACXK,iBAAiB,gCAAKD,cAAL,MAAqB,WAAWR,aAAa,CAACI,SAAS,CAACE,QAAX,CAA7C,CAAmE,WAAWN,aAAa,CAACI,SAAS,CAACG,QAAX,CAA3F,GAAjB,CACD,CACF,CAJQ,CAIP,CAACH,SAAD,CAJO,CAAT,CAKA,GAAMM,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/BN,YAAY,gCAAMD,SAAN,wBAAkBO,KAAK,CAACC,MAAN,CAAaC,IAA/B,CAAsCF,KAAK,CAACC,MAAN,CAAaE,KAAnD,GAAZ,CACD,CAFD,CAGA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACJ,KAAD,CAAW,CAC/BA,KAAK,CAACK,cAAN,GACAd,GAAG,CAACe,IAAJ,CAAS,cAAT,CAAyB,CACvBC,MAAM,CAAE,CACNV,cAAc,CAAdA,cADM,CADe,CAAzB,EAMGW,IANH,CAMQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAkB,CAAtB,CAAyB,CACvBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAyC,MAAzC,EACAF,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAA6CL,GAAG,CAACC,IAAjD,EACAlB,QAAQ,CAAC,OAAD,CAAR,CACD,CAJD,IAKI,CACFuB,KAAK,CAACN,GAAG,CAACC,IAAJ,CAASM,OAAV,CAAL,CACD,CACF,CAfH,EAgBD,CAlBD,CAmBA,mBACE,oCACE,kCACE,KAAC,MAAD,IADF,EADF,cAKE,YAAK,SAAS,CAAC,oBAAf,uBACA,cAAM,QAAQ,CAAEZ,aAAhB,CAA+B,SAAS,CAAC,sBAAzC,wBACA,YAAK,SAAS,CAAC,YAAf,uBACE,gDAAc,cACZ,IAAI,CAAC,MADO,CAEZ,IAAI,CAAC,UAFO,CAGZ,QAAQ,CAAEL,aAHE,CAIZ,YAAY,CAAC,KAJD,EAAd,GADF,EADA,cASE,YAAK,SAAS,CAAC,YAAf,uBACA,+CAAa,cACX,IAAI,CAAC,UADM,CAEX,IAAI,CAAC,UAFM,CAGX,QAAQ,CAAEA,aAHC,CAIX,YAAY,CAAC,KAJF,EAAb,GADA,EATF,cAkBE,YAAK,SAAS,CAAC,4BAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,KAAzB,oBADF,EAlBF,GADA,EALF,GADF,CAgCD,CApED,CAqEA,cAAeT,UAAf"},"metadata":{},"sourceType":"module"}