{"ast":null,"code":"import _slicedToArray from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import CustomizedSearchBar from'../../components/atoms/CustomizedSearchBar/CustomizedSearchBar';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import OpenModal from'../../components/molecules/OpenModal/OpenModal';import{useNavigate}from'react-router-dom';import'../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewInvoicePage=function ViewInvoicePage(_ref){var onClick=_ref.onClick,api=_ref.api;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),invoiceData=_useState2[0],setInvoiceData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),invoiceFormData=_useState4[0],setInvoiceFormData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchData=_useState6[0],setSearchData=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),modalview=_useState8[0],setModalview=_useState8[1];var navigate=useNavigate();// following function sets data for search (start):-\nvar onHandleChangeEvent=function onHandleChangeEvent(event){setSearchData(event.target.value);};// after entering search data and hits enter the following function will fetch invoices \n// based on either phone number or invoice no directly (start):-\nvar goEventClicked=function goEventClicked(){api.post('/delivery/getInvoices',{params:{searchData:searchData}}).then(function(res){setInvoiceData(res.data);});};// after entering search data and hits enter the following function will fetch invoices \n// based on either phone number or invoice no directly (end):-\n// onclick of the view invoice button the below function is called (start)\nvar openinvoiceevent=function openinvoiceevent(invoiceNo){api.post('/delivery/getDeliveryReportData',{params:{invoiceNo:invoiceNo}}).then(function(res){setInvoiceFormData(res.data);});};// onclick of the view invoice button the below function is called (end)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"viewInvoicePageContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageheading\",children:\"View Your Invoices\"}),/*#__PURE__*/_jsx(CustomizedSearchBar,{onHandleChangeEvent:onHandleChangeEvent,type:\"search\",goEventClicked:goEventClicked,labelname:\"phone number / Invoice Number\",Btnname:\"search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"backarrow\",children:/*#__PURE__*/_jsx(\"p\",{// onClick={() => { onClick() }} \nonClick:function onClick(){navigate(\"/main\");},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:invoiceData.length!=0&&/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theadalter\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Invoice date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Invoice no\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:invoiceData.map(function(data,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.delivery_date!=null?data.delivery_date=data.delivery_date.substring(0,10):data.delivery_date=data.delivery_date}),/*#__PURE__*/_jsx(\"td\",{children:data.invoice_no}),/*#__PURE__*/_jsx(\"td\",{children:data.customer_name}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){setModalview(\"invoiceformat\");openinvoiceevent(data.invoice_no);},children:/*#__PURE__*/_jsx(OpenModal,{invoiceno:data.invoice_no,modalview:modalview,modalbuttonname:\"view invoice\",invoiceFormData:invoiceFormData})})]},i);})})]})}),invoiceData.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\" no data found! \"})]})]});};export default ViewInvoicePage;","map":{"version":3,"names":["React","useState","CustomizedSearchBar","ArrowBackIcon","OpenModal","useNavigate","ViewInvoicePage","onClick","api","invoiceData","setInvoiceData","invoiceFormData","setInvoiceFormData","searchData","setSearchData","modalview","setModalview","navigate","onHandleChangeEvent","event","target","value","goEventClicked","post","params","then","res","data","openinvoiceevent","invoiceNo","length","map","i","delivery_date","substring","invoice_no","customer_name"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/pages/ViewInvoicePage/ViewInvoicePage.js"],"sourcesContent":["import React, { useState} from \"react\";\nimport CustomizedSearchBar from '../../components/atoms/CustomizedSearchBar/CustomizedSearchBar';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport OpenModal from '../../components/molecules/OpenModal/OpenModal';\nimport {useNavigate} from 'react-router-dom';\nimport '../../style/style.css';\n\nconst ViewInvoicePage = ({\n    onClick,\n    api\n}) => {\n    const [invoiceData, setInvoiceData] = useState([]);\n    const [invoiceFormData, setInvoiceFormData] = useState([]);\n    const [searchData, setSearchData] = useState('');\n    const [modalview, setModalview] = useState('');\n    let navigate = useNavigate();\n        // following function sets data for search (start):-\n        const onHandleChangeEvent = (event) => {\n            setSearchData(event.target.value);\n        }\n    // after entering search data and hits enter the following function will fetch invoices \n    // based on either phone number or invoice no directly (start):-\n    const goEventClicked = () => {\n      api.post('/delivery/getInvoices', {\n        params: {\n          searchData\n        }\n      }\n      )\n        .then((res) => {\n          setInvoiceData(res.data);\n        })\n    }\n    // after entering search data and hits enter the following function will fetch invoices \n    // based on either phone number or invoice no directly (end):-\n\n    // onclick of the view invoice button the below function is called (start)\n    const openinvoiceevent = (invoiceNo) => {\n      api.post('/delivery/getDeliveryReportData', {\n        params: {\n          invoiceNo\n        }\n      }\n      )\n        .then((res) => {\n          setInvoiceFormData(res.data);\n        })\n    }\n// onclick of the view invoice button the below function is called (end)\n    return (\n        <div className=\"viewInvoicePageContainer\">\n            <div className=\"pageheading\">\n                View Your Invoices\n            </div>\n            {/* search bar start  */}\n            <CustomizedSearchBar\n                onHandleChangeEvent={onHandleChangeEvent}\n                type=\"search\"\n                goEventClicked={goEventClicked}\n                labelname=\"phone number / Invoice Number\"\n                Btnname=\"search\"\n            />\n            {/* search bar end  */}\n            <div className=\"displayContainer\">\n                <div className=\"backarrow\">\n                    <p \n                        // onClick={() => { onClick() }} \n                        onClick={() => { \n                            navigate(\"/main\");\n                        }} \n                        ><ArrowBackIcon /></p>\n                </div>\n                <div className=\"table-responsive\">\n                {\n                    invoiceData.length != 0 &&\n                    <table className=\"table table-striped table-bordered\">\n                        <thead className=\"theadalter\">\n                            <tr>\n                                <th>Invoice date</th>\n                                <th>Invoice no</th>\n                                <th>Customer name</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                invoiceData.map((data, i) => (\n                                    <tr key={i}>\n                                        <td>\n                                            {\n                                                data.delivery_date != null ?\n                                                data.delivery_date = data.delivery_date.substring(0, 10) :\n                                                data.delivery_date = data.delivery_date\n                                            }\n                                        </td>\n                                        <td>{data.invoice_no}</td>\n                                        <td>{data.customer_name}</td>\n                                        <td onClick={() => { \n                                            setModalview(\"invoiceformat\");\n                                                openinvoiceevent(data.invoice_no);\n                                             }}>\n                                            <OpenModal\n                                                invoiceno={data.invoice_no}\n                                                modalview={modalview}\n                                                modalbuttonname=\"view invoice\"\n                                                invoiceFormData={invoiceFormData}\n                                            />\n                                        </td>\n                                    </tr>\n                                ))\n                            }\n                        </tbody>\n                    </table>\n                }\n                </div>\n                {\n                    invoiceData.length === 0 &&\n                    <p> no data found! </p>\n                }\n            </div>\n        </div>\n    );\n}\nexport default ViewInvoicePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}