{"ast":null,"code":"import _defineProperty from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from\"react\";import HeaderWithLogout from'../../pages/Header/HeaderWithLogout';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import EmployeesEditableRow from\"../../components/EmployeesEditableRow/EmployeesEditableRow\";import EmployeesReadOnlyRow from\"../../components/molecules/EmployeesReadOnlyRow/EmployeesReadOnlyRow\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeManagementPage=function EmployeeManagementPage(_ref){var api=_ref.api;var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setemployees=_useState2[1];useEffect(function(){api.get('/employees/getusers').then(function(res){setemployees(res.data);});},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),check=_useState4[0],setcheck=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),Id=_useState6[0],setId=_useState6[1];useEffect(function(){setcheck(JSON.parse(window.localStorage.getItem('logoutbtn')));},[]);useEffect(function(){if(check==null){navigate('/');}},[check]);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),EditId=_useState8[0],setEditId=_useState8[1];var _useState9=useState({username:\"\",password:\"\"}),_useState10=_slicedToArray(_useState9,2),editFormData=_useState10[0],setEditFormData=_useState10[1];var handleEditFormSubmit=function handleEditFormSubmit(event){event.preventDefault();// const edited = {\n//   id: EditId,\n//   username: editFormData.username,\n//   password: editFormData.password\n// };\n// const newData = [...employees];\n// const index = employees.findIndex((data) => data.id === EditId);\n// newData[index] = edited;\nconsole.log(\"on submitted\",editFormData);// setemployees(newData);\nsetEditId(null);};var handleEditClick=function handleEditClick(event,data){event.preventDefault();console.log(\"hi edit\",data);setEditId(data.id);var formValues={username:data.username,password:data.password};setEditFormData(formValues);};var handleEditFormChange=function handleEditFormChange(event){event.preventDefault();// const fieldName = event.target.getAttribute(\"name\");\n// const fieldValue = event.target.value;\n// const newFormData = { ...editFormData };\n// newFormData[fieldName] = fieldValue;\n// setEditFormData(newFormData);\nsetEditFormData(_objectSpread(_objectSpread({},editFormData),{},_defineProperty({},event.target.name,event.target.value)));};var handleCancelClick=function handleCancelClick(){setEditId(null);};var handleDeleteClick=function handleDeleteClick(Id){console.log(\"to be deleted\",Id);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(HeaderWithLogout,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reportcontainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageheading\",children:\"Employee Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"backarrow\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){navigate(\"/main\");},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditFormSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:employees.length!=0&&/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theadalter\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employees&&employees.length&&employees.map(function(data){return/*#__PURE__*/_jsx(Fragment,{children:EditId===data.id?/*#__PURE__*/_jsx(EmployeesEditableRow,{rowdata:data,handleEditFormChange:handleEditFormChange,handleCancelClick:handleCancelClick}):/*#__PURE__*/_jsx(EmployeesReadOnlyRow,{handleEditClick:handleEditClick,rowdata:data,handleDeleteClick:handleDeleteClick})});})})]})})}),employees.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\" no data found! \"})]})]})]});};export default EmployeeManagementPage;","map":{"version":3,"names":["React","useState","useEffect","Fragment","HeaderWithLogout","ArrowBackIcon","EmployeesEditableRow","EmployeesReadOnlyRow","useNavigate","EmployeeManagementPage","api","navigate","employees","setemployees","get","then","res","data","check","setcheck","Id","setId","JSON","parse","window","localStorage","getItem","EditId","setEditId","username","password","editFormData","setEditFormData","handleEditFormSubmit","event","preventDefault","console","log","handleEditClick","id","formValues","handleEditFormChange","target","name","value","handleCancelClick","handleDeleteClick","length","map"],"sources":["/Users/rashmishrees/Desktop/sdd/src/pages/EmployeeManagementPage/EmployeeManagementPage.js"],"sourcesContent":["import React, {useState, useEffect, Fragment} from \"react\";\nimport HeaderWithLogout from '../../pages/Header/HeaderWithLogout';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport EmployeesEditableRow from \"../../components/EmployeesEditableRow/EmployeesEditableRow\";\nimport EmployeesReadOnlyRow from \"../../components/molecules/EmployeesReadOnlyRow/EmployeesReadOnlyRow\";\nimport {useNavigate} from 'react-router-dom';\n\nconst EmployeeManagementPage = ({api}) => {\n    let navigate = useNavigate();\n    const [employees, setemployees] = useState({});\n    useEffect(()=>{\n        api.get('/employees/getusers')\n        .then((res) => {\n            setemployees(res.data);\n        })\n    },[])\n    const [check, setcheck] = useState(false);\n    const [Id, setId] = useState(null);\n    useEffect(() => {\n      setcheck(JSON.parse(window.localStorage.getItem('logoutbtn')));\n    }, []);\n    useEffect(()=>{\n      if(check == null){\n        navigate('/');\n      }\n    },[check])\n    const [EditId,setEditId] = useState(null);\n    const [editFormData, setEditFormData] = useState({\n        username: \"\",\n        password: \"\"\n      });\n    const handleEditFormSubmit = (event) => {\n        event.preventDefault();\n    \n        // const edited = {\n        //   id: EditId,\n        //   username: editFormData.username,\n        //   password: editFormData.password\n        // };\n    \n        // const newData = [...employees];\n    \n        // const index = employees.findIndex((data) => data.id === EditId);\n    \n        // newData[index] = edited;\n        console.log(\"on submitted\", editFormData);\n        // setemployees(newData);\n        setEditId(null);\n      };\n      const handleEditClick = (event, data) => {\n          event.preventDefault();\n          console.log(\"hi edit\",data);\n            setEditId(data.id);\n    \n        const formValues = {\n          username: data.username,\n          password: data.password\n        };\n    \n        setEditFormData(formValues);\n      };\n      const handleEditFormChange = (event) => {\n        event.preventDefault();\n        // const fieldName = event.target.getAttribute(\"name\");\n        // const fieldValue = event.target.value;\n    \n        // const newFormData = { ...editFormData };\n        // newFormData[fieldName] = fieldValue;\n    \n        // setEditFormData(newFormData);\n        setEditFormData({ ...editFormData, [event.target.name]: event.target.value })\n      };\n      const handleCancelClick = () => {\n        setEditId(null);\n      };\n      const handleDeleteClick = (Id) => {\n       console.log(\"to be deleted\", Id);\n      };\n    return(\n        <div>\n        <div>\n          <HeaderWithLogout />\n        </div>\n        <div className=\"reportcontainer\">\n          <div className=\"pageheading\">\n            Employee Management\n          </div>\n          <div className=\"displayContainer\">\n                    <div className=\"backarrow\">\n                        <p\n                            onClick={() => {\n                                navigate(\"/main\");\n                            }}\n                        ><ArrowBackIcon /></p>\n                    </div>\n                    <form onSubmit={handleEditFormSubmit}>\n                    <div className=\"table-responsive\">\n                        {\n                            employees.length != 0 &&\n                                <table className=\"table table-striped table-bordered\">\n                                    <thead className=\"theadalter\">\n                                        <tr>\n                                            <th>User Name</th>\n                                            <th>Password</th>\n                                            <th>Action</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            employees && employees.length &&\n                                            employees.map((data)=>(\n                                                <Fragment>\n                                                {EditId === data.id ? (\n                                                <EmployeesEditableRow\n                                                    rowdata={data}\n                                                    handleEditFormChange={handleEditFormChange}\n                                                    handleCancelClick={handleCancelClick}\n                                                />\n                                                ) : (\n                                                <EmployeesReadOnlyRow\n                                                    handleEditClick={handleEditClick}\n                                                    rowdata={data}\n                                                    handleDeleteClick={handleDeleteClick}\n                                                />\n                                                )}\n                                            </Fragment>\n                                            ))\n                                        }\n                                    </tbody>\n                                </table>\n                        }\n                    </div>\n                    </form>\n                    {\n                        employees.length === 0 &&\n                        <p> no data found! </p>\n                    }\n                </div>\n        </div>\n      </div>\n    );\n}\nexport default EmployeeManagementPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}