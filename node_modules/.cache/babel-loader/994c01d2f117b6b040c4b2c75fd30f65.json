{"ast":null,"code":"import _slicedToArray from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CustomizedSearchBar from\"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";import OpenModal from\"../../molecules/OpenModal/OpenModal\";import CustomizedBtn from\"../../atoms/CustomizedBtn/CustomizedBtn\";import'../../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DealersInvoice=function DealersInvoice(_ref){var searchData=_ref.searchData,onHandleChangeEvent=_ref.onHandleChangeEvent,api=_ref.api;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dealersDetails=_useState2[0],setdealersDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),invoiceFormData=_useState4[0],setInvoiceFormData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),modalview=_useState6[0],setModalview=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open=_useState8[0],setOpen=_useState8[1];var openevent=function openevent(e){setOpen(e);};var displayDealersDetailsDatawithstatusactiveevent=function displayDealersDetailsDatawithstatusactiveevent(){api.get('dealers/displayDealersDetailsDatawithstatusactive').then(function(res){setdealersDetails(res.data);});};useEffect(function(){displayDealersDetailsDatawithstatusactiveevent();},[]);var openinvoiceevent=function openinvoiceevent(gstin_number){api.post('dealers/getdealersfromgst',{params:{gstin_Number:gstin_number}}).then(function(res){setInvoiceFormData(res.data);});};var fetchdeliverydatamatchinggstevent=function fetchdeliverydatamatchinggstevent(gstin_number){api.post('delivery/fetchdeliverymatchinggstno',{params:{gst:gstin_number}}).then(function(res){if(res.data&&res.data.length==0){res.data.push({'state':''});}setInvoiceFormData(res.data);});};useEffect(function(){if(searchData===\"\"){displayDealersDetailsDatawithstatusactiveevent();}},[searchData]);var goEventClicked=function goEventClicked(){api.post('dealers/getDealersDetailsData',{params:{proprietor_name:searchData,proprietor_phone_number:searchData}}).then(function(res){setdealersDetails(res.data);});};var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),dealersdata=_useState10[0],setdealersdata=_useState10[1];var dealersdataevent=function dealersdataevent(e){setdealersdata(e);};var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),deliveryinvoices=_useState12[0],setdeliveryinvoices=_useState12[1];var fetchinvoicesfromdelivery=function fetchinvoicesfromdelivery(e){api.post('delivery/fetchinvoicesfromdelivery',{params:{gst:e}}).then(function(res){setdeliveryinvoices(res.data);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"generateinvoicecontainer\",children:[/*#__PURE__*/_jsx(OpenModal,{api:api,open:open,openevent:openevent,dealersdata:dealersdata,modalview:modalview,invoiceFormData:invoiceFormData,deliveryinvoices:deliveryinvoices}),/*#__PURE__*/_jsx(CustomizedSearchBar,{onHandleChangeEvent:onHandleChangeEvent,goEventClicked:goEventClicked,labelname:\"phone number/ name\",Btnname:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered tablebackground\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theadalter\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"GSTIN Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"GST Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Generate\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dealersDetails&&dealersDetails.length?dealersDetails.map(function(data,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.gstin_number}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_name}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_address}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_name}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_phone_number}),/*#__PURE__*/_jsx(\"td\",{children:data.gstin_status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(CustomizedBtn,{BtnName:\"Generate Invoice\",onClick:function onClick(){dealersdataevent(data);openinvoiceevent(data.gstin_number);fetchdeliverydatamatchinggstevent(data.gstin_number);setModalview(\"DealersInvoiceForm\");openevent(true);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(CustomizedBtn,{BtnName:\"View Invoice\",onClick:function onClick(){dealersdataevent(data);openinvoiceevent(data.gstin_number);fetchdeliverydatamatchinggstevent(data.gstin_number);setModalview(\"DealersInvoicesListForm\");fetchinvoicesfromdelivery(data.gstin_number);openevent(true);}})})]},i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:\"15\",children:\"No Record!\"})})})]})})]});};export default DealersInvoice;","map":{"version":3,"names":["React","useState","useEffect","CustomizedSearchBar","OpenModal","CustomizedBtn","DealersInvoice","searchData","onHandleChangeEvent","api","dealersDetails","setdealersDetails","invoiceFormData","setInvoiceFormData","modalview","setModalview","open","setOpen","openevent","e","displayDealersDetailsDatawithstatusactiveevent","get","then","res","data","openinvoiceevent","gstin_number","post","params","gstin_Number","fetchdeliverydatamatchinggstevent","gst","length","push","goEventClicked","proprietor_name","proprietor_phone_number","dealersdata","setdealersdata","dealersdataevent","deliveryinvoices","setdeliveryinvoices","fetchinvoicesfromdelivery","map","i","enterprise_name","enterprise_address","gstin_status"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/components/organisms/DealersInvoice/DealersInvoice.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport CustomizedSearchBar from \"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";\nimport OpenModal from \"../../molecules/OpenModal/OpenModal\";\nimport CustomizedBtn from \"../../atoms/CustomizedBtn/CustomizedBtn\";\nimport '../../../style/style.css';\n\nconst DealersInvoice = ({\n    searchData,\n    onHandleChangeEvent,\n    api\n}) => {\n    const [dealersDetails, setdealersDetails] = useState({});\n    const [invoiceFormData, setInvoiceFormData] = useState([]);\n    const [modalview, setModalview] = useState('');\n    const [open, setOpen] = useState(false);\n    const openevent = (e) =>{\n      setOpen(e)\n    }\n    const displayDealersDetailsDatawithstatusactiveevent = () =>{\n        api.get('dealers/displayDealersDetailsDatawithstatusactive')\n        .then((res)=>{\n            setdealersDetails(res.data);\n        })\n    }\n    useEffect(()=>{\n        displayDealersDetailsDatawithstatusactiveevent();\n    },[])\n    const openinvoiceevent = (gstin_number) => {\n        api.post('dealers/getdealersfromgst',{\n            params:{\n                gstin_Number:gstin_number\n            }\n        })\n        .then((res)=>{\n            setInvoiceFormData(res.data);\n        })\n    }\n    const fetchdeliverydatamatchinggstevent = (gstin_number) => {\n        api.post('delivery/fetchdeliverymatchinggstno',{\n            params:{\n                gst:gstin_number\n            }\n        })\n        .then((res)=>{\n            if(res.data && res.data.length == 0){\n                res.data.push(\n                    {'state':''})\n            }\n            setInvoiceFormData(res.data);\n        })\n    }\n    useEffect(() => {\n        if (searchData === \"\") {\n            displayDealersDetailsDatawithstatusactiveevent();\n        }\n    }, [searchData])\n    const goEventClicked = () => {\n        api.post('dealers/getDealersDetailsData',{\n            params:{\n                proprietor_name: searchData,\n                proprietor_phone_number: searchData,\n            }\n        })\n        .then((res)=>{\n            setdealersDetails(res.data);\n        })\n    }\n    const [dealersdata,setdealersdata] = useState();\n    const dealersdataevent = (e) => {\n        setdealersdata(e)\n    };\n    const [deliveryinvoices, setdeliveryinvoices] = useState();\n    const fetchinvoicesfromdelivery = (e) => {\n        api.post('delivery/fetchinvoicesfromdelivery', {\n            params:{\n                gst:e\n            }\n        })\n        .then((res)=>{\n            setdeliveryinvoices(res.data);\n        })\n    }\n    return(\n        <div className=\"generateinvoicecontainer\">\n            <OpenModal \n                api={api}\n                open={open}\n                openevent={openevent}\n                dealersdata={dealersdata}\n                modalview={modalview}\n                invoiceFormData={invoiceFormData} \n                deliveryinvoices={deliveryinvoices}\n            />\n            <CustomizedSearchBar \n                onHandleChangeEvent={onHandleChangeEvent}\n                goEventClicked={goEventClicked}\n                labelname=\"phone number/ name\" \n                Btnname=\"Search\"\n            />\n            <div className='table-responsive'>\n                <table className=\"table table-striped table-bordered tablebackground\">\n                    <thead className=\"theadalter\">\n                        <tr>\n                            <th>GSTIN Number</th>\n                            <th>Enterprise Name</th>\n                            <th>Enterprise Address</th>\n                            <th>Proprietor Name</th>\n                            <th>Proprietor Phone Number</th>\n                            <th>GST Status</th>\n                            <th>Action</th>\n                            <th>Generate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        dealersDetails && dealersDetails.length \n                        ? dealersDetails.map((data, i)=>(\n                            <tr key={i}>\n                                <td>{data.gstin_number}</td>\n                                <td>{data.enterprise_name}</td>\n                                <td>{data.enterprise_address}</td>\n                                <td>{data.proprietor_name}</td>\n                                <td>{data.proprietor_phone_number}</td>\n                                <td>{data.gstin_status}</td>\n                                <td>\n                                    <CustomizedBtn \n                                        BtnName=\"Generate Invoice\"\n                                        onClick={()=>{\n                                            dealersdataevent(data);\n                                            openinvoiceevent(data.gstin_number);\n                                            fetchdeliverydatamatchinggstevent(data.gstin_number);\n                                            setModalview(\"DealersInvoiceForm\");\n                                            openevent(true);\n                                        }}\n                                    />\n                                </td>\n                                <td>\n                                    <CustomizedBtn \n                                        BtnName=\"View Invoice\"\n                                        onClick={()=>{\n                                            dealersdataevent(data);\n                                            openinvoiceevent(data.gstin_number);\n                                            fetchdeliverydatamatchinggstevent(data.gstin_number);\n                                            setModalview(\"DealersInvoicesListForm\");\n                                            fetchinvoicesfromdelivery(data.gstin_number);\n                                            openevent(true);\n                                        }}\n                                    />\n                                </td>\n                            </tr>\n                        ))\n                        : \n                            <tr>\n                                <td colspan=\"15\">No Record!</td>\n                            </tr>\n                    }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\nexport default DealersInvoice;"],"mappings":"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"},"metadata":{},"sourceType":"module"}