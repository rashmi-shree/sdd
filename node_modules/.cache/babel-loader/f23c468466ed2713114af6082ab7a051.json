{"ast":null,"code":"var _jsxFileName = \"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/pages/ViewInvoicePage/ViewInvoicePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport CustomizedSearchBar from '../../components/atoms/CustomizedSearchBar/CustomizedSearchBar';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport OpenModal from '../../components/molecules/OpenModal/OpenModal';\nimport { useNavigate } from 'react-router-dom';\nimport HeaderWithLogout from '../../pages/Header/HeaderWithLogout';\nimport CustomizedBtn from \"../../components/atoms/CustomizedBtn/CustomizedBtn\";\nimport moment from 'moment';\nimport '../../style/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ViewInvoicePage = _ref => {\n  _s();\n\n  let {\n    api\n  } = _ref;\n  const [invoiceData, setInvoiceData] = useState([]);\n  const [invoiceFormData, setInvoiceFormData] = useState([]);\n  const [searchData, setSearchData] = useState('');\n  const [modalview, setModalview] = useState('');\n  const [open, setOpen] = useState(false);\n\n  const openevent = e => {\n    setOpen(e);\n  };\n\n  let navigate = useNavigate();\n\n  const onHandleChangeEvent = event => {\n    setSearchData(event.target.value);\n  };\n\n  const goEventClicked = () => {\n    api.post('/delivery/getInvoices', {\n      params: {\n        searchData\n      }\n    }).then(res => {\n      setInvoiceData(res.data);\n    });\n  };\n\n  const openinvoiceevent = invoiceNo => {\n    api.post('/delivery/getDeliveryReportData', {\n      params: {\n        invoiceNo\n      }\n    }).then(res => {\n      setInvoiceFormData(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(HeaderWithLogout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(OpenModal, {\n      api: api,\n      modalview: modalview,\n      open: open,\n      openevent: openevent,\n      invoiceFormData: invoiceFormData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewInvoicePageContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageheading\",\n        children: \"View Your Invoices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CustomizedSearchBar, {\n        onHandleChangeEvent: onHandleChangeEvent,\n        type: \"search\",\n        goEventClicked: goEventClicked,\n        labelname: \"phone number / Invoice Number\",\n        Btnname: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"backarrow\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => {\n              navigate(\"/main\");\n            },\n            children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: invoiceData.length != 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped table-bordered\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"theadalter\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Invoice date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Invoice no\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Customer name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: invoiceData.map((data, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: data.delivery_date != null ? moment(data.delivery_date).format('YYYY-MM-DD') : data.delivery_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: data.invoice_no\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: data.customer_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(CustomizedBtn, {\n                    BtnName: \"View Invoice\",\n                    onClick: () => {\n                      openinvoiceevent(data.invoice_no);\n                      setModalview(\"invoiceformat\");\n                      openevent(true);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 49\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), invoiceData.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" no data found! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ViewInvoicePage, \"40Q+1Jmlpa+Zw3aTVnTah6IINF8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ViewInvoicePage;\nexport default ViewInvoicePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewInvoicePage\");","map":{"version":3,"names":["React","useState","CustomizedSearchBar","ArrowBackIcon","OpenModal","useNavigate","HeaderWithLogout","CustomizedBtn","moment","ViewInvoicePage","api","invoiceData","setInvoiceData","invoiceFormData","setInvoiceFormData","searchData","setSearchData","modalview","setModalview","open","setOpen","openevent","e","navigate","onHandleChangeEvent","event","target","value","goEventClicked","post","params","then","res","data","openinvoiceevent","invoiceNo","length","map","i","delivery_date","format","invoice_no","customer_name"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/pages/ViewInvoicePage/ViewInvoicePage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport CustomizedSearchBar from '../../components/atoms/CustomizedSearchBar/CustomizedSearchBar';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport OpenModal from '../../components/molecules/OpenModal/OpenModal';\nimport { useNavigate } from 'react-router-dom';\nimport HeaderWithLogout from '../../pages/Header/HeaderWithLogout';\nimport CustomizedBtn from \"../../components/atoms/CustomizedBtn/CustomizedBtn\";\nimport moment from 'moment';\nimport '../../style/style.css';\n\nconst ViewInvoicePage = ({\n    api\n}) => {\n    const [invoiceData, setInvoiceData] = useState([]);\n    const [invoiceFormData, setInvoiceFormData] = useState([]);\n    const [searchData, setSearchData] = useState('');\n    const [modalview, setModalview] = useState('');\n    const [open, setOpen] = useState(false);\n    const openevent = (e) =>{\n      setOpen(e)\n    }\n    let navigate = useNavigate();\n    const onHandleChangeEvent = (event) => {\n        setSearchData(event.target.value);\n    }\n    const goEventClicked = () => {\n        api.post('/delivery/getInvoices', {\n            params: {\n                searchData\n            }\n        }\n        )\n        .then((res) => {\n            setInvoiceData(res.data);\n        })\n    }\n    const openinvoiceevent = (invoiceNo) => {\n        api.post('/delivery/getDeliveryReportData', {\n            params: {\n                invoiceNo\n            }\n        }\n        )\n            .then((res) => {\n                setInvoiceFormData(res.data);\n            })\n    }\n    return (\n        <div>\n            <div>\n                <HeaderWithLogout />\n            </div>\n            <OpenModal\n                api={api}\n                modalview={modalview}\n                open={open}\n                openevent={openevent}\n                invoiceFormData={invoiceFormData}\n            />\n            <div className=\"viewInvoicePageContainer\">\n                <div className=\"pageheading\">\n                    View Your Invoices\n                </div>\n                <CustomizedSearchBar\n                    onHandleChangeEvent={onHandleChangeEvent}\n                    type=\"search\"\n                    goEventClicked={goEventClicked}\n                    labelname=\"phone number / Invoice Number\"\n                    Btnname=\"search\"\n                />\n                <div className=\"displayContainer\">\n                    <div className=\"backarrow\">\n                        <p\n                            onClick={() => {\n                                navigate(\"/main\");\n                            }}\n                        ><ArrowBackIcon /></p>\n                    </div>\n                    <div className=\"table-responsive\">\n                        {\n                            invoiceData.length != 0 &&\n                            <table className=\"table table-striped table-bordered\">\n                                <thead className=\"theadalter\">\n                                    <tr>\n                                        <th>Invoice date</th>\n                                        <th>Invoice no</th>\n                                        <th>Customer name</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        invoiceData.map((data, i) => (\n                                            <tr key={i}>\n                                                <td>\n                                                    {\n                                                        data.delivery_date != null ?\n                                                        moment(data.delivery_date).format('YYYY-MM-DD'):\n                                                        data.delivery_date\n                                                    }\n                                                </td>\n                                                <td>{data.invoice_no}</td>\n                                                <td>{data.customer_name}</td>\n                                                <td>\n                                                <CustomizedBtn \n                                                    BtnName=\"View Invoice\"\n                                                    onClick={()=>{\n                                                        openinvoiceevent(data.invoice_no);\n                                                        setModalview(\"invoiceformat\");\n                                                        openevent(true);\n                                                    }}\n                                                />\n                                                </td>\n                                            </tr>\n                                        ))\n                                    }\n                                </tbody>\n                            </table>\n                        }\n                    </div>\n                    {\n                        invoiceData.length === 0 &&\n                        <p> no data found! </p>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default ViewInvoicePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}