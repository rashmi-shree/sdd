{"ast":null,"code":"import _slicedToArray from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CustomizedSearchBar from\"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";import OpenModal from\"../../molecules/OpenModal/OpenModal\";import'../../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DealersInvoice=function DealersInvoice(_ref){var searchData=_ref.searchData,onHandleChangeEvent=_ref.onHandleChangeEvent,api=_ref.api;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dealersDetails=_useState2[0],setdealersDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),invoiceFormData=_useState4[0],setInvoiceFormData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),changedmodalview=_useState6[0],setChangedmodalview=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),formdisplaydata=_useState8[0],setformdisplaydata=_useState8[1];// const [searchData, setSearchData] = useState('');\n//      // following function sets data for search (start):-\n//   const onHandleChangeEvent = (event) => {\n//     setSearchData(event.target.value);\n// }\nvar displayDealersDetailsDatawithstatusactiveevent=function displayDealersDetailsDatawithstatusactiveevent(){api.get('dealers/displayDealersDetailsDatawithstatusactive').then(function(res){setdealersDetails(res.data);});};useEffect(function(){displayDealersDetailsDatawithstatusactiveevent();},[]);var openinvoiceevent=function openinvoiceevent(gstin_number){api.post('dealers/getdealersfromgst',{params:{gstin_Number:gstin_number}}).then(function(res){setInvoiceFormData(res.data);});};var fetchdeliverydatamatchinggstevent=function fetchdeliverydatamatchinggstevent(gstin_number){api.post('delivery/fetchdeliverymatchinggstno',{params:{gst:gstin_number}}).then(function(res){if(res.data&&res.data.length==0){res.data.push({'state':''});}setformdisplaydata(res.data);});};useEffect(function(){if(searchData===\"\"){displayDealersDetailsDatawithstatusactiveevent();}},[searchData]);var goEventClicked=function goEventClicked(){api.post('dealers/getDealersDetailsData',{params:{proprietor_name:searchData,proprietor_phone_number:searchData}}).then(function(res){setdealersDetails(res.data);});};var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),dealersdata=_useState10[0],setdealersdata=_useState10[1];var dealersdataevent=function dealersdataevent(e){setdealersdata(e);};var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),deliveryinvoices=_useState12[0],setdeliveryinvoices=_useState12[1];var fetchinvoicesfromdelivery=function fetchinvoicesfromdelivery(e){api.post('delivery/fetchinvoicesfromdelivery',{params:{gst:e}}).then(function(res){setdeliveryinvoices(res.data);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"generateinvoicecontainer\",children:[/*#__PURE__*/_jsx(CustomizedSearchBar,{onHandleChangeEvent:onHandleChangeEvent,goEventClicked:goEventClicked,labelname:\"phone number/ name\",Btnname:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theadalter\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"GSTIN Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"GST Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Generate\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dealersDetails&&dealersDetails.length?dealersDetails.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.gstin_number}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_name}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_address}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_name}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_phone_number}),/*#__PURE__*/_jsx(\"td\",{children:data.gstin_status}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){openinvoiceevent(data.gstin_number);fetchdeliverydatamatchinggstevent(data.gstin_number);setChangedmodalview(\"DealersInvoiceForm\");dealersdataevent(data);},children:/*#__PURE__*/_jsx(OpenModal,{dealersdata:dealersdata,modalview:changedmodalview,modalbuttonname:\"Generate invoice\",invoiceFormData:invoiceFormData,formdisplaydata:formdisplaydata})}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){// setChangedmodalview(\"DealersInvoiceFormGenerateFormat\");\nsetChangedmodalview(\"DealersInvoicesListForm\");fetchdeliverydatamatchinggstevent(data.gstin_number);fetchinvoicesfromdelivery(data.gstin_number);},children:/*#__PURE__*/_jsx(OpenModal,{deliveryinvoices:deliveryinvoices,modalview:changedmodalview,modalbuttonname:\"View invoices\",invoiceFormData:formdisplaydata})})]});}):/*#__PURE__*/_jsx(\"p\",{children:\"No Record!\"})})]})})]});};export default DealersInvoice;","map":{"version":3,"names":["React","useState","useEffect","CustomizedSearchBar","OpenModal","DealersInvoice","searchData","onHandleChangeEvent","api","dealersDetails","setdealersDetails","invoiceFormData","setInvoiceFormData","changedmodalview","setChangedmodalview","formdisplaydata","setformdisplaydata","displayDealersDetailsDatawithstatusactiveevent","get","then","res","data","openinvoiceevent","gstin_number","post","params","gstin_Number","fetchdeliverydatamatchinggstevent","gst","length","push","goEventClicked","proprietor_name","proprietor_phone_number","dealersdata","setdealersdata","dealersdataevent","e","deliveryinvoices","setdeliveryinvoices","fetchinvoicesfromdelivery","map","enterprise_name","enterprise_address","gstin_status"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/components/organisms/DealersInvoice/DealersInvoice.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport CustomizedSearchBar from \"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";\nimport OpenModal from \"../../molecules/OpenModal/OpenModal\";\nimport '../../../style/style.css';\n\nconst DealersInvoice = ({\n    searchData,\n    onHandleChangeEvent,\n    api\n}) => {\n    const [dealersDetails, setdealersDetails] = useState({});\n    const [invoiceFormData, setInvoiceFormData] = useState([]);\n    const [changedmodalview, setChangedmodalview] = useState('');\n    const [formdisplaydata, setformdisplaydata] = useState('');\n    // const [searchData, setSearchData] = useState('');\n//      // following function sets data for search (start):-\n//   const onHandleChangeEvent = (event) => {\n//     setSearchData(event.target.value);\n// }\n    const displayDealersDetailsDatawithstatusactiveevent = () =>{\n        api.get('dealers/displayDealersDetailsDatawithstatusactive')\n        .then((res)=>{\n            setdealersDetails(res.data);\n        })\n    }\n    useEffect(()=>{\n        displayDealersDetailsDatawithstatusactiveevent();\n    },[])\n    const openinvoiceevent = (gstin_number) => {\n        api.post('dealers/getdealersfromgst',{\n            params:{\n                gstin_Number:gstin_number\n            }\n        })\n        .then((res)=>{\n            setInvoiceFormData(res.data);\n        })\n    }\n    const fetchdeliverydatamatchinggstevent = (gstin_number) => {\n        api.post('delivery/fetchdeliverymatchinggstno',{\n            params:{\n                gst:gstin_number\n            }\n        })\n        .then((res)=>{\n            if(res.data && res.data.length == 0){\n                res.data.push(\n                    {'state':''})\n            }\n            setformdisplaydata(res.data);\n        })\n    }\n    useEffect(() => {\n        if (searchData === \"\") {\n            displayDealersDetailsDatawithstatusactiveevent();\n        }\n    }, [searchData])\n    const goEventClicked = () => {\n        api.post('dealers/getDealersDetailsData',{\n            params:{\n                proprietor_name: searchData,\n                proprietor_phone_number: searchData,\n            }\n        })\n        .then((res)=>{\n            setdealersDetails(res.data);\n        })\n    }\n    const [dealersdata,setdealersdata] = useState();\n    const dealersdataevent = (e) => {\n        setdealersdata(e)\n    };\n    const [deliveryinvoices, setdeliveryinvoices] = useState();\n    const fetchinvoicesfromdelivery = (e) => {\n        api.post('delivery/fetchinvoicesfromdelivery', {\n            params:{\n                gst:e\n            }\n        })\n        .then((res)=>{\n            setdeliveryinvoices(res.data);\n        })\n    }\n    return(\n        <div className=\"generateinvoicecontainer\">\n            <CustomizedSearchBar \n                onHandleChangeEvent={onHandleChangeEvent}\n                goEventClicked={goEventClicked}\n                labelname=\"phone number/ name\" \n                Btnname=\"Search\"\n            />\n            <div className='table-responsive'>\n                <table className=\"table table-striped table-bordered \">\n                    <thead className=\"theadalter\">\n                        <tr>\n                            <th>GSTIN Number</th>\n                            <th>Enterprise Name</th>\n                            <th>Enterprise Address</th>\n                            <th>Proprietor Name</th>\n                            <th>Proprietor Phone Number</th>\n                            <th>GST Status</th>\n                            <th>Action</th>\n                            <th>Generate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        dealersDetails && dealersDetails.length \n                        ? dealersDetails.map((data)=>(\n                            <tr>\n                                <td>{data.gstin_number}</td>\n                                <td>{data.enterprise_name}</td>\n                                <td>{data.enterprise_address}</td>\n                                <td>{data.proprietor_name}</td>\n                                <td>{data.proprietor_phone_number}</td>\n                                <td>{data.gstin_status}</td>\n                                <td \n                                    onClick={()=>{\n                                            openinvoiceevent(data.gstin_number);\n                                            fetchdeliverydatamatchinggstevent(data.gstin_number);\n                                            setChangedmodalview(\"DealersInvoiceForm\");\n                                            dealersdataevent(data);\n                                        }}\n                                >\n                                        <OpenModal \n                                            dealersdata={dealersdata}\n                                            modalview={changedmodalview}\n                                            modalbuttonname=\"Generate invoice\" \n                                            invoiceFormData={invoiceFormData} \n                                            formdisplaydata={formdisplaydata}\n                                        />\n                                    </td>\n                                <td\n                                    onClick={()=>{\n                                        // setChangedmodalview(\"DealersInvoiceFormGenerateFormat\");\n                                        setChangedmodalview(\"DealersInvoicesListForm\");\n                                        fetchdeliverydatamatchinggstevent(data.gstin_number);\n                                        fetchinvoicesfromdelivery(data.gstin_number);\n                                    }}\n                                >\n                                        <OpenModal\n                                            deliveryinvoices={deliveryinvoices}\n                                             modalview={changedmodalview}\n                                            modalbuttonname=\"View invoices\"\n                                            invoiceFormData={formdisplaydata} \n                                        />\n                                    </td>\n                            </tr>\n                        ))\n                        :  <p>No Record!</p>\n                    }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\nexport default DealersInvoice;"],"mappings":"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"},"metadata":{},"sourceType":"module"}