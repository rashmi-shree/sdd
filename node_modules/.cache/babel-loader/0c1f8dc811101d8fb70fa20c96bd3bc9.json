{"ast":null,"code":"import _slicedToArray from\"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CustomizedSearchBar from\"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";import OpenModal from'../OpenModal/OpenModal';import CustomizedEditIcon from\"../../atoms/CustomizedEditIcon/CustomizedEditIcon\";import CustomizedDeleteIcon from\"../../atoms/CustomizedDeleteIcon/CustomizedDeleteIcon\";import'../../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DisplayDealersDetailsTable=function DisplayDealersDetailsTable(_ref){var currentstatus=_ref.currentstatus,modalview=_ref.modalview,api=_ref.api;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dealersdetailsdata=_useState2[0],setDealersdetailsdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),filterflag=_useState4[0],setfilterflag=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),rowdata=_useState6[0],setrowdata=_useState6[1];var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),searchvalue=_React$useState2[0],setSearchvalue=_React$useState2[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),changedmodalview=_useState8[0],setChangedmodalview=_useState8[1];useEffect(function(){if(filterflag&&currentstatus){gstinstatusfilterdealersdata();}else{displayDealersDetailsData();}},[currentstatus]);var rowdataevent=function rowdataevent(e){setrowdata(e);};var displayDealersDetailsData=function displayDealersDetailsData(){api.get('dealers/displayDealersDetailsData').then(function(res){setDealersdetailsdata(res.data);setfilterflag(true);});};useEffect(function(){if(searchvalue===\"\"){displayDealersDetailsData();}},[searchvalue]);var gstinstatusfilterdealersdata=function gstinstatusfilterdealersdata(){api.post('dealers/gstinstatusfilterdealersdata',{params:{status:currentstatus}}).then(function(res){setDealersdetailsdata(res.data);});};var searchHandle=function searchHandle(e){setSearchvalue(e.target.value);};var modalviewchange=function modalviewchange(){setChangedmodalview(\"adddealersform\");};var searchclicked=function searchclicked(){api.post('dealers/gstinstatusfilterdealersdata',{params:{proprietor_name:searchvalue,proprietor_phone_number:searchvalue}}).then(function(res){setDealersdetailsdata(res.data);});};var deleteevent=function deleteevent(id){api.delete(\"dealers/deletefromdealersdetailstable/\".concat(id)).then(function(res){displayDealersDetailsData();});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomizedSearchBar,{labelname:\"proprietor name /proprietor phone number\",Btnname:\"search\",onHandleChangeEvent:searchHandle,goEventClicked:searchclicked}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"theadalter\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"GSTIN Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Enterprise Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Proprietor Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"GSTIN Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dealersdetailsdata&&dealersdetailsdata.length?dealersdetailsdata.map(function(data,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.gstin_number}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_name}),/*#__PURE__*/_jsx(\"td\",{children:data.enterprise_address}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_name}),/*#__PURE__*/_jsx(\"td\",{children:data.proprietor_phone_number}),/*#__PURE__*/_jsx(\"td\",{children:data.gstin_status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"editdeletecontainer\",children:[/*#__PURE__*/_jsx(OpenModal,{displayDealersDetailsData:displayDealersDetailsData,rowdata:rowdata// modalview={modalview}\n,modalview:\"editdealersreport\",modalbuttonname:/*#__PURE__*/_jsx(CustomizedEditIcon,{onClick:function onClick(){rowdataevent(data);}})}),/*#__PURE__*/_jsx(CustomizedDeleteIcon,{onClick:function onClick(){return deleteevent(data.gstin_number);}})]})})]},i);}):/*#__PURE__*/_jsx(\"p\",{children:\"No Record!\"})})]})}),/*#__PURE__*/_jsx(OpenModal,{displayDealersDetailsData:displayDealersDetailsData,modalview:changedmodalview,modalbuttonname:/*#__PURE__*/_jsx(\"div\",{onClick:modalviewchange,children:\"Add Dealers\"})})]});};export default DisplayDealersDetailsTable;","map":{"version":3,"names":["React","useState","useEffect","CustomizedSearchBar","OpenModal","CustomizedEditIcon","CustomizedDeleteIcon","DisplayDealersDetailsTable","currentstatus","modalview","api","dealersdetailsdata","setDealersdetailsdata","filterflag","setfilterflag","rowdata","setrowdata","searchvalue","setSearchvalue","changedmodalview","setChangedmodalview","gstinstatusfilterdealersdata","displayDealersDetailsData","rowdataevent","e","get","then","res","data","post","params","status","searchHandle","target","value","modalviewchange","searchclicked","proprietor_name","proprietor_phone_number","deleteevent","id","delete","length","map","i","gstin_number","enterprise_name","enterprise_address","gstin_status"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/components/molecules/DisplayDealersDetailsTable/DisplayDealersDetailsTable.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport CustomizedSearchBar from \"../../atoms/CustomizedSearchBar/CustomizedSearchBar\";\nimport OpenModal from '../OpenModal/OpenModal';\nimport CustomizedEditIcon from \"../../atoms/CustomizedEditIcon/CustomizedEditIcon\";\nimport CustomizedDeleteIcon from \"../../atoms/CustomizedDeleteIcon/CustomizedDeleteIcon\";\nimport '../../../style/style.css';\n\nconst DisplayDealersDetailsTable = ({\n    currentstatus,\n    modalview,\n    api\n}) => {\n    const [dealersdetailsdata, setDealersdetailsdata] = useState({});\n    const [filterflag, setfilterflag] = useState(false);\n    const [rowdata, setrowdata] = useState({});\n    const [searchvalue, setSearchvalue] = React.useState('');\n    const [changedmodalview, setChangedmodalview] = useState('');\n    useEffect(()=>{\n        if(filterflag && currentstatus){\n            gstinstatusfilterdealersdata();\n        }else {\n            displayDealersDetailsData();\n        }\n    },[currentstatus])\n    const rowdataevent = (e) => {\n        setrowdata(e);\n    }\n    const displayDealersDetailsData = () => {\n        api.get('dealers/displayDealersDetailsData')\n        .then((res)=>{\n            setDealersdetailsdata(res.data);\n            setfilterflag(true);\n        })\n    }\n    useEffect(()=>{\n        if (searchvalue === \"\"){\n            displayDealersDetailsData();\n        }\n    },[searchvalue])\n    const gstinstatusfilterdealersdata = () => {\n        api.post('dealers/gstinstatusfilterdealersdata',{\n            params:{\n                status:currentstatus\n            }\n        })\n        .then((res)=>{\n            setDealersdetailsdata(res.data);\n        })\n    }\n    const searchHandle = (e) => {\n        setSearchvalue(e.target.value);\n      }\n      const modalviewchange = () =>{\n        setChangedmodalview(\"adddealersform\");\n    }\n      const searchclicked = () => {\n        api.post('dealers/gstinstatusfilterdealersdata',{\n            params:{\n                proprietor_name:searchvalue,\n                proprietor_phone_number:searchvalue\n            }\n        })\n        .then((res)=>{\n            setDealersdetailsdata(res.data);\n        })\n      }\n      const deleteevent = (id) => {\n        api.delete(`dealers/deletefromdealersdetailstable/${id}`)\n        .then((res)=>{\n            displayDealersDetailsData();\n        })\n    }\n    return(\n        <div>\n            <CustomizedSearchBar \n            labelname=\"proprietor name /proprietor phone number\"\n            Btnname=\"search\"\n            onHandleChangeEvent={searchHandle}\n            goEventClicked={searchclicked}\n            />\n            <div className='table-responsive'>\n                <table className=\"table table-striped table-bordered\">\n                    <thead className=\"theadalter\">\n                        <tr>\n                            <th>GSTIN Number</th>\n                            <th>Enterprise Name</th>\n                            <th>Enterprise Address</th>\n                            <th>Proprietor Name</th>\n                            <th>Proprietor Phone Number</th>\n                            <th>GSTIN Status</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            dealersdetailsdata && dealersdetailsdata.length \n                            ?  dealersdetailsdata.map((data, i)=> (\n                            <tr key={i}>\n                                <td>{data.gstin_number}</td>\n                                <td>{data.enterprise_name}</td>\n                                <td>{data.enterprise_address}</td>\n                                <td>{data.proprietor_name}</td>\n                                <td>{data.proprietor_phone_number}</td>\n                                <td>{data.gstin_status}</td>\n                                <td>\n                                    <div className=\"editdeletecontainer\">\n                                        <OpenModal \n                                            displayDealersDetailsData={displayDealersDetailsData}\n                                            rowdata={rowdata}\n                                            // modalview={modalview}\n                                            modalview=\"editdealersreport\"\n                                            modalbuttonname={\n                                                <CustomizedEditIcon\n                                                    onClick={()=>{rowdataevent(data)\n                                                    }}\n                                                />\n                                            } \n                                        />\n                                        <CustomizedDeleteIcon onClick={()=>(deleteevent(data.gstin_number))} />\n                                    </div>\n                                </td>\n                            </tr>\n                            ))\n                            : <p>No Record!</p>\n                        }\n                    </tbody>\n                </table>\n            </div>\n            <OpenModal \n                    displayDealersDetailsData={displayDealersDetailsData}\n                    modalview={changedmodalview}\n                    modalbuttonname={\n                                        <div\n                                            onClick={modalviewchange}\n                                        >\n                                            Add Dealers\n                                        </div>\n                                    }\n                />\n        </div>\n    );\n}\nexport default DisplayDealersDetailsTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}