{"ast":null,"code":"var _jsxFileName = \"/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/pages/ViewInvoicePage/ViewInvoicePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport CustomizedSearchBar from \"../../components/atoms/CustomizedSearchBar/CustomizedSearchBar\";\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport OpenModal from \"../../components/molecules/OpenModal/OpenModal\";\nimport { useNavigate } from 'react-router-dom';\nimport '../../Styles/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ViewInvoicePage = _ref => {\n  _s();\n\n  let {\n    onClick\n  } = _ref;\n  const [invoiceData, setInvoiceData] = useState([]);\n  const [invoiceFormData, setInvoiceFormData] = useState([]);\n  const [searchData, setSearchData] = useState('');\n  const [modalview, setModalview] = useState('');\n  let navigate = useNavigate(); // following function sets data for search (start):-\n\n  const onHandleChangeEvent = event => {\n    setSearchData(event.target.value);\n  }; // after entering search data and hits enter the following function will fetch invoices \n  // based on either phone number or invoice no directly (start):-\n\n\n  const goEventClicked = () => {}; // after entering search data and hits enter the following function will fetch invoices \n  // based on either phone number or invoice no directly (end):-\n  // onclick of the view invoice button the below function is called (start)\n\n\n  const openinvoiceevent = invoiceNo => {\n    fetch('http://localhost:3000/getDeliveryReportData', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      body: JSON.stringify({\n        invoice_no: invoiceNo\n      })\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      setInvoiceFormData(data);\n    });\n  }; // onclick of the view invoice button the below function is called (end)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"viewInvoicePageContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageheading\",\n      children: \"View Your Invoices\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomizedSearchBar, {\n      onHandleChangeEvent: onHandleChangeEvent,\n      type: \"search\",\n      goEventClicked: goEventClicked,\n      labelname: \"phone number / Invoice Number\",\n      Btnname: \"search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"displayContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"backarrow\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          // onClick={() => { onClick() }} \n          onClick: () => {\n            navigate(\"/main\");\n          },\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"table-responsive\",\n        children: invoiceData.length != 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table table-striped table-bordered\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"theadalter\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Invoice date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Invoice no\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Customer name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: invoiceData.map((data, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.delivery_date != null ? data.delivery_date = data.delivery_date.substring(0, 10) : data.delivery_date = data.delivery_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.invoice_no\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: data.customer_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                onClick: () => {\n                  setModalview(\"invoiceformat\");\n                  openinvoiceevent(data.invoice_no);\n                },\n                children: /*#__PURE__*/_jsxDEV(OpenModal, {\n                  invoiceno: data.invoice_no,\n                  modalview: modalview,\n                  modalbuttonname: \"view invoice\",\n                  invoiceFormData: invoiceFormData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 41\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), invoiceData.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" no data found! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ViewInvoicePage, \"nN23x9HNB5ZOUmiLqrBPc1BCtHw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ViewInvoicePage;\nexport default ViewInvoicePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewInvoicePage\");","map":{"version":3,"names":["React","useState","CustomizedSearchBar","ArrowBackIcon","OpenModal","useNavigate","ViewInvoicePage","onClick","invoiceData","setInvoiceData","invoiceFormData","setInvoiceFormData","searchData","setSearchData","modalview","setModalview","navigate","onHandleChangeEvent","event","target","value","goEventClicked","openinvoiceevent","invoiceNo","fetch","method","headers","mode","body","JSON","stringify","invoice_no","then","res","json","data","length","map","i","delivery_date","substring","customer_name"],"sources":["/Users/rashmishrees/Desktop/prabhu-invoice-project/rashmi-work-done/sdd_using_axios/sddusingaxios/src/pages/ViewInvoicePage/ViewInvoicePage.js"],"sourcesContent":["import React, { useState} from \"react\";\nimport CustomizedSearchBar from \"../../components/atoms/CustomizedSearchBar/CustomizedSearchBar\";\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport OpenModal from \"../../components/molecules/OpenModal/OpenModal\";\nimport {useNavigate} from 'react-router-dom';\nimport '../../Styles/style.css';\n\nconst ViewInvoicePage = ({\n    onClick,\n}) => {\n    const [invoiceData, setInvoiceData] = useState([]);\n    const [invoiceFormData, setInvoiceFormData] = useState([]);\n    const [searchData, setSearchData] = useState('');\n    const [modalview, setModalview] = useState('');\n    let navigate = useNavigate();\n        // following function sets data for search (start):-\n        const onHandleChangeEvent = (event) => {\n            setSearchData(event.target.value);\n        }\n    // after entering search data and hits enter the following function will fetch invoices \n    // based on either phone number or invoice no directly (start):-\n    const goEventClicked = () => {\n\n    }\n    // after entering search data and hits enter the following function will fetch invoices \n    // based on either phone number or invoice no directly (end):-\n\n    // onclick of the view invoice button the below function is called (start)\n    const openinvoiceevent = (invoiceNo) => {\n        fetch('http://localhost:3000/getDeliveryReportData', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            body: JSON.stringify({\n                invoice_no: invoiceNo\n            })\n        })\n            .then(res => {\n                return res.json()\n            })\n            .then(data => {\n                setInvoiceFormData(data);\n            })\n    }\n// onclick of the view invoice button the below function is called (end)\n    return (\n        <div className=\"viewInvoicePageContainer\">\n            <div className=\"pageheading\">\n                View Your Invoices\n            </div>\n            {/* search bar start  */}\n            <CustomizedSearchBar\n                onHandleChangeEvent={onHandleChangeEvent}\n                type=\"search\"\n                goEventClicked={goEventClicked}\n                labelname=\"phone number / Invoice Number\"\n                Btnname=\"search\"\n            />\n            {/* search bar end  */}\n            <div className=\"displayContainer\">\n                <div className=\"backarrow\">\n                    <p \n                        // onClick={() => { onClick() }} \n                        onClick={() => { \n                            navigate(\"/main\");\n                        }} \n                        ><ArrowBackIcon /></p>\n                </div>\n                <div class=\"table-responsive\">\n                {\n                    invoiceData.length != 0 &&\n                    <table class=\"table table-striped table-bordered\">\n                        <thead className=\"theadalter\">\n                            <tr>\n                                <th>Invoice date</th>\n                                <th>Invoice no</th>\n                                <th>Customer name</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                invoiceData.map((data, i) => (\n                                    <tr key={i}>\n                                        <td>\n                                            {\n                                                data.delivery_date != null ?\n                                                data.delivery_date = data.delivery_date.substring(0, 10) :\n                                                data.delivery_date = data.delivery_date\n                                            }\n                                        </td>\n                                        <td>{data.invoice_no}</td>\n                                        <td>{data.customer_name}</td>\n                                        <td onClick={() => { \n                                            setModalview(\"invoiceformat\");\n                                                openinvoiceevent(data.invoice_no);\n                                             }}>\n                                            <OpenModal\n                                                invoiceno={data.invoice_no}\n                                                modalview={modalview}\n                                                modalbuttonname=\"view invoice\"\n                                                invoiceFormData={invoiceFormData}\n                                            />\n                                        </td>\n                                    </tr>\n                                ))\n                            }\n                        </tbody>\n                    </table>\n                }\n                </div>\n                {\n                    invoiceData.length === 0 &&\n                    <p> no data found! </p>\n                }\n            </div>\n        </div>\n    );\n}\nexport default ViewInvoicePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}