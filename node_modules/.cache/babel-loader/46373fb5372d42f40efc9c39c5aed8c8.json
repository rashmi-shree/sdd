{"ast":null,"code":"import _defineProperty from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rashmishrees/Desktop/sdd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import TextAndTextInput from\"../../components/molecules/TextAndTextInput/TextAndTextInput\";import{useNavigate}from'react-router-dom';import Header from\"../Header/Header\";import'../../style/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(_ref){var api=_ref.api,logoutbuttonevent=_ref.logoutbuttonevent,userevent=_ref.userevent;var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),logindata=_useState2[0],setlogindata=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setuser=_useState4[1];var onChangeEvent=function onChangeEvent(event){setlogindata(_objectSpread(_objectSpread({},logindata),{},_defineProperty({},event.target.name,event.target.value)));};var onSubmitLogin=function onSubmitLogin(){api.post('/users/login',{params:{logindata:logindata}}).then(function(res){if(res.data.length>0){logoutbuttonevent(true);// setuserid(res.data[0].id);\napi.get(\"/employees/profile/\".concat(res.data[0].id),{}).then(function(res){setuser(res.data);userevent(res.data);});navigate('/main');}else{alert(res.data.msg);}});};var handleKeypress=function handleKeypress(e){//it triggers by pressing the enter key\nif(e.key==='Enter'){console.log(\"enter clicked\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Header,{user:user})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginPageContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginPageContainerChild\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"usernameandpass\",children:[/*#__PURE__*/_jsx(TextAndTextInput,{onChangeEvent:onChangeEvent,type:\"username\",typeofinput:\"text\",textname:\"USER NAME:-\",onKeyPress:handleKeypress}),/*#__PURE__*/_jsx(TextAndTextInput,{onChangeEvent:onChangeEvent,type:\"password\",typeofinput:\"password\",textname:\"PASSWORD:-\",onKeyPress:handleKeypress})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginPageBtnContainer\",children:/*#__PURE__*/_jsx(\"a\",{onKeyPress:handleKeypress,onClick:function onClick(){onSubmitLogin();},children:\"Login\"})})]})})]});};export default LoginPage;","map":{"version":3,"names":["React","useEffect","useState","TextAndTextInput","useNavigate","Header","LoginPage","api","logoutbuttonevent","userevent","navigate","logindata","setlogindata","user","setuser","onChangeEvent","event","target","name","value","onSubmitLogin","post","params","then","res","data","length","get","id","alert","msg","handleKeypress","e","key","console","log"],"sources":["/Users/rashmishrees/Desktop/sdd/src/pages/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport TextAndTextInput from \"../../components/molecules/TextAndTextInput/TextAndTextInput\";\nimport { useNavigate } from 'react-router-dom';\nimport Header from \"../Header/Header\";\nimport '../../style/style.css';\n\nconst LoginPage = ({ \n  api,\n  logoutbuttonevent,\n  userevent\n }) => {\n  let navigate = useNavigate();\n  const [logindata, setlogindata] = useState();\n  const [user, setuser] = useState({});\n  const onChangeEvent = (event) => {\n    setlogindata({ ...logindata, [event.target.name]: event.target.value });\n  }\n  const onSubmitLogin = () => {\n    api.post('/users/login', {\n      params: {\n        logindata\n      }\n    }\n    )\n      .then((res) => {\n        if (res.data.length > 0) {\n          logoutbuttonevent(true);\n          // setuserid(res.data[0].id);\n          api.get(`/employees/profile/${res.data[0].id}`, {})\n            .then((res) => {\n              setuser(res.data);\n              userevent(res.data);\n            })\n          navigate('/main');\n        }\n        else{\n          alert(res.data.msg);\n        }\n      })\n  }\n     const handleKeypress = (e) => {\n      //it triggers by pressing the enter key\n    if (e.key === 'Enter') {\n      console.log(\"enter clicked\");\n    }\n  };\n  return (\n    <div>\n      <div>\n        <Header user={user} />\n      </div>\n      <div className=\"loginPageContainer\">\n        <div className=\"loginPageContainerChild\">\n          <div className=\"usernameandpass\">\n            <TextAndTextInput\n              onChangeEvent={onChangeEvent}\n              type=\"username\"\n              typeofinput=\"text\"\n              textname=\"USER NAME:-\" \n              onKeyPress={handleKeypress}              \n              />\n            <TextAndTextInput\n              onChangeEvent={onChangeEvent}\n              type=\"password\"\n              typeofinput=\"password\"\n              textname=\"PASSWORD:-\" \n              onKeyPress={handleKeypress}\n              />\n          </div>\n          <div className=\"loginPageBtnContainer\">\n            <a\n              onKeyPress={handleKeypress}\n              onClick={() => {\n                onSubmitLogin();\n              }}\n            >\n              Login\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default LoginPage;"],"mappings":"gWAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,iBAAP,KAA6B,8DAA7B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAO,uBAAP,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAIX,IAHLC,IAGK,MAHLA,GAGK,CAFLC,iBAEK,MAFLA,iBAEK,CADLC,SACK,MADLA,SACK,CACL,GAAIC,SAAQ,CAAGN,WAAW,EAA1B,CACA,cAAkCF,QAAQ,EAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/BJ,YAAY,gCAAMD,SAAN,wBAAkBK,KAAK,CAACC,MAAN,CAAaC,IAA/B,CAAsCF,KAAK,CAACC,MAAN,CAAaE,KAAnD,GAAZ,CACD,CAFD,CAGA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1Bb,GAAG,CAACc,IAAJ,CAAS,cAAT,CAAyB,CACvBC,MAAM,CAAE,CACNX,SAAS,CAATA,SADM,CADe,CAAzB,EAMGY,IANH,CAMQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAkB,CAAtB,CAAyB,CACvBlB,iBAAiB,CAAC,IAAD,CAAjB,CACA;AACAD,GAAG,CAACoB,GAAJ,8BAA8BH,GAAG,CAACC,IAAJ,CAAS,CAAT,EAAYG,EAA1C,EAAgD,EAAhD,EACGL,IADH,CACQ,SAACC,GAAD,CAAS,CACbV,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP,CACAhB,SAAS,CAACe,GAAG,CAACC,IAAL,CAAT,CACD,CAJH,EAKAf,QAAQ,CAAC,OAAD,CAAR,CACD,CATD,IAUI,CACFmB,KAAK,CAACL,GAAG,CAACC,IAAJ,CAASK,GAAV,CAAL,CACD,CACF,CApBH,EAqBD,CAtBD,CAuBG,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACC,CAAD,CAAO,CAC7B;AACF,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuB,CACrBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CACF,CALE,CAMH,mBACE,oCACE,kCACE,KAAC,MAAD,EAAQ,IAAI,CAAEtB,IAAd,EADF,EADF,cAIE,YAAK,SAAS,CAAC,oBAAf,uBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,gBAAD,EACE,aAAa,CAAEE,aADjB,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,MAHd,CAIE,QAAQ,CAAC,aAJX,CAKE,UAAU,CAAEgB,cALd,EADF,cAQE,KAAC,gBAAD,EACE,aAAa,CAAEhB,aADjB,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,UAHd,CAIE,QAAQ,CAAC,YAJX,CAKE,UAAU,CAAEgB,cALd,EARF,GADF,cAiBE,YAAK,SAAS,CAAC,uBAAf,uBACE,UACE,UAAU,CAAEA,cADd,CAEE,OAAO,CAAE,kBAAM,CACbX,aAAa,GACd,CAJH,mBADF,EAjBF,GADF,EAJF,GADF,CAqCD,CA7ED,CA8EA,cAAed,UAAf"},"metadata":{},"sourceType":"module"}